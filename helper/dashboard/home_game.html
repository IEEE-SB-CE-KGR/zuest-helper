<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            background-image: radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.08) 1px, transparent 0);
            background-size: 25px 25px;
            color: #e5e7eb; /* text-gray-200 */
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111827; }
        ::-webkit-scrollbar-thumb { background: #374151; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #4b5563; }
        
        .accent-blue {
            color: #3b82f6;
        }

        /* Tab button styling */
        .tab-btn {
            background-color: #374151; /* gray-700 */
            color: #d1d5db; /* gray-300 */
            transition: all 0.2s ease-in-out;
        }
        .tab-btn:hover {
            background-color: #4b5563; /* gray-600 */
        }
        .tab-btn.active {
            background-color: #3b82f6; /* blue-600 */
            color: #ffffff;
            font-weight: 600;
        }

        /* Card styles */
        .game-card, .create-card {
            background-color: rgba(17, 24, 39, 0.5); /* bg-gray-900/50 */
            border: 1px solid #374151; /* border-gray-700 */
            transition: all 0.2s ease-in-out;
        }
        .game-card:hover, .create-card:hover {
            border-color: #6b7280; /* border-gray-500 */
        }

        /* Modal styles */
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: #1f2937; /* bg-gray-800 */
            border: 1px solid #4b5563; /* border-gray-600 */
        }

        /* Form element styles */
        .form-input, .form-select {
            background-color: #374151; /* bg-gray-700 */
            border: 1px solid #4b5563; /* border-gray-600 */
            color: #e5e7eb; /* text-gray-200 */
        }
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #3b82f6; /* blue-500 */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        .form-checkbox {
            background-color: #374151;
            border: 1px solid #4b5563;
        }
        .form-checkbox:checked {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }

        /* Action buttons */
        .action-btn {
            color: #9ca3af; /* gray-400 */
            transition: color 0.2s ease-in-out;
        }
        .action-btn:hover {
            color: #ffffff;
        }
        .action-btn.delete:hover {
            color: #ef4444; /* red-500 */
        }
    </style>
</head>
<body>

    <div class="min-h-screen flex flex-col">
        <header class="bg-black/60 backdrop-blur-lg border-b border-gray-800/50 shadow-sm sticky top-0 z-40">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-gamepad text-2xl accent-blue"></i>
                        <h1 class="text-xl font-semibold text-white">Game Dashboard</h1>
                    </div>
                    <button class="px-4 py-2 text-sm font-medium text-gray-300 bg-gray-800 hover:bg-gray-700 border border-gray-700 rounded-md transition-colors duration-200">
                        Logout
                    </button>
                </div>
            </div>
        </header>

        <main class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row justify-between md:items-center mb-8 gap-4">
                <h2 class="text-3xl font-bold text-white">Your Games</h2>
                 <!-- Tab Navigation -->
                <div class="inline-flex rounded-md shadow-sm" role="group">
                    <button type="button" id="hostedTab" class="tab-btn active px-4 py-2 text-sm font-medium rounded-l-md">
                        Hosted
                    </button>
                    <button type="button" id="nonHostedTab" class="tab-btn px-4 py-2 text-sm font-medium rounded-r-md">
                        Non-Hosted
                    </button>
                </div>
            </div>

            <!-- Game Cards Container -->
            <div id="gamesGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                 <!-- Create New Game Card -->
                <button id="createGameBtn" class="create-card flex items-center justify-center space-x-3 p-4 rounded-lg border-2 border-dashed border-gray-700 text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-all duration-300 h-full min-h-[190px]">
                    <i class="fas fa-plus text-2xl"></i>
                    <span class="font-semibold text-lg">Create New Game</span>
                </button>
                <!-- Game cards will be dynamically inserted here -->
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="gameModal" class="fixed inset-0 modal-backdrop z-50 flex justify-center items-center p-4 hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-2xl p-6 transform transition-all scale-95 opacity-0" id="gameModalContent">
            <h3 id="gameModalTitle" class="text-2xl font-semibold text-white mb-6">Create New Game</h3>
            <form>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Left Column -->
                    <div class="space-y-4">
                        <div>
                            <label for="gameName" class="block text-sm font-medium text-gray-400 mb-1">Game Name</label>
                            <input type="text" id="gameName" class="form-input mt-1 block w-full rounded-md shadow-sm">
                        </div>
                        <div>
                            <label for="gameDescription" class="block text-sm font-medium text-gray-400 mb-1">Description</label>
                            <textarea id="gameDescription" rows="5" class="form-input mt-1 block w-full rounded-md shadow-sm"></textarea>
                        </div>
                    </div>
                    <!-- Right Column -->
                    <div class="space-y-4">
                        <div class="bg-gray-900/50 p-4 rounded-lg border border-gray-700">
                             <label class="block text-sm font-medium text-gray-400 mb-2">Settings</label>
                             <div class="flex items-center">
                                <input id="isHosted" type="checkbox" class="form-checkbox h-4 w-4 rounded">
                                <label for="isHosted" class="ml-2 block text-sm text-gray-300">Is Hosted?</label>
                            </div>
                        </div>
                        <div class="bg-gray-900/50 p-4 rounded-lg border border-gray-700">
                             <label for="gameStatus" class="block text-sm font-medium text-gray-400 mb-2">Status</label>
                            <select id="gameStatus" class="form-select rounded-md shadow-sm w-full">
                                <option>Draft</option>
                                <option>Published</option>
                                <option>Template</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="mt-8 flex justify-end space-x-3">
                    <button type="button" class="modal-close-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 border border-gray-600 rounded-md text-white">Cancel</button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-semibold">Save Game</button>
                </div>
            </form>
        </div>
    </div>
    <div id="deleteModal" class="fixed inset-0 modal-backdrop z-50 flex justify-center items-center p-4 hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-md p-6 transform transition-all scale-95 opacity-0" id="deleteModalContent">
            <h3 class="text-2xl font-semibold text-red-500 mb-2">Are you sure?</h3>
            <p class="text-gray-400">This action cannot be undone. This will permanently delete the <strong id="gameNameToDelete" class="font-bold text-white"></strong> game.</p>
            <p class="text-gray-500 mt-4 text-sm">To confirm, please type "<strong id="gameNameConfirmText" class="font-semibold text-white"></strong>" in the box below.</p>
            <input type="text" id="deleteConfirmInput" class="form-input mt-2 block w-full rounded-md shadow-sm">
            <div class="mt-6 flex justify-end space-x-3">
                <button type="button" class="modal-close-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 border border-gray-600 rounded-md text-white">Cancel</button>
                <button id="confirmDeleteBtn" type="button" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded-md text-white font-semibold disabled:bg-red-800/50 disabled:cursor-not-allowed" disabled>Delete this game</button>
            </div>
        </div>
    </div>
    <div id="detailsModal" class="fixed inset-0 modal-backdrop z-50 flex justify-center items-center p-4 hidden">
        <div class="modal-content rounded-lg shadow-2xl w-full max-w-md p-6 transform transition-all scale-95 opacity-0" id="detailsModalContent">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-semibold text-white" id="detailsGameName">Game Details</h3>
                <button class="modal-close-btn text-gray-500 hover:text-white text-2xl">&times;</button>
            </div>
            <div class="text-center">
                <p class="text-gray-400 mb-4">Scan the QR code to join the game.</p>
                <div class="bg-white p-4 rounded-lg inline-block">
                    <img src="https://placehold.co/200x200/ffffff/000000?text=QR+Code" alt="QR Code">
                </div>
                <p class="mt-4 text-sm text-gray-500">Game ID: <span id="detailsGameId" class="font-mono">123-456-789</span></p>
            </div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- DATA ---
        const allGames = {
            hosted: [
                { name: 'Downtown History Hunt', description: "A real-time scavenger hunt through the city's historical landmarks.", status: 'Published', isHosted: true },
                { name: 'Campus Discovery Quest', description: 'An introductory game for new university students.', status: 'Draft', isHosted: true }
            ],
            nonHosted: [
                { name: 'Birthday Party Fun', description: "A reusable template for kids' birthday parties.", status: 'Template', isHosted: false },
                { name: 'Corporate Team Builder', description: 'Ice-breaker challenges for company events.', status: 'Template', isHosted: false }
            ]
        };

        // --- ELEMENTS ---
        const gamesGrid = document.getElementById('gamesGrid');
        const hostedTab = document.getElementById('hostedTab');
        const nonHostedTab = document.getElementById('nonHostedTab');
        const createGameBtn = document.getElementById('createGameBtn');

        // --- FUNCTIONS ---
        const addCardButtonListeners = () => {
            document.querySelectorAll('.action-btn[title="View Details"]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const card = e.currentTarget.closest('[data-game-name]');
                    if (card) {
                        const gameName = card.dataset.gameName;
                        document.getElementById('detailsGameName').textContent = gameName;
                        openModal(document.getElementById('detailsModal'));
                    }
                });
            });

            document.querySelectorAll('.action-btn[title="Edit"]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const card = e.currentTarget.closest('[data-game-name]');
                    if (card) {
                        const gameName = card.dataset.gameName;
                        const gameData = [...allGames.hosted, ...allGames.nonHosted].find(g => g.name === gameName);
                        
                        document.getElementById('gameModalTitle').innerText = 'Edit Game';
                        document.getElementById('gameName').value = gameData.name;
                        document.getElementById('gameDescription').value = gameData.description;
                        document.getElementById('isHosted').checked = gameData.isHosted;
                        document.getElementById('gameStatus').value = gameData.status;

                        openModal(document.getElementById('gameModal'));
                    }
                });
            });

            document.querySelectorAll('.action-btn[title="Delete"]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const card = e.currentTarget.closest('[data-game-name]');
                    if (card) {
                        const gameName = card.dataset.gameName;
                        document.getElementById('gameNameToDelete').textContent = gameName;
                        document.getElementById('gameNameConfirmText').textContent = gameName;
                        document.getElementById('deleteConfirmInput').value = '';
                        document.getElementById('confirmDeleteBtn').disabled = true;
                        openModal(document.getElementById('deleteModal'));
                    }
                });
            });
        };

        const renderCards = (games) => {
            document.querySelectorAll('.game-card, .no-games-message').forEach(el => el.remove());

            if (games.length === 0) {
                gamesGrid.insertAdjacentHTML('beforeend', `<p class="no-games-message text-gray-500 col-span-full">No games in this category.</p>`);
            }

            games.forEach(game => {
                const statusColors = {
                    Published: 'bg-green-500/10 text-green-400 border-green-500/20',
                    Draft: 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20',
                    Template: 'bg-gray-500/10 text-gray-400 border-gray-500/20'
                };

                const cardHTML = `
                    <div class="game-card rounded-lg flex flex-col justify-between min-h-[190px] cursor-pointer p-6" data-game-name="${game.name}">
                        <div>
                            <div class="flex justify-between items-start">
                                <h4 class="text-lg font-semibold text-white pr-2">${game.name}</h4>
                                <span class="${statusColors[game.status]} text-xs font-medium px-2.5 py-1 rounded-full border">${game.status}</span>
                            </div>
                            <p class="text-gray-400 mt-2 text-sm">${game.description}</p>
                        </div>
                        <div class="mt-4 flex justify-end items-center space-x-4">
                            <button class="action-btn" title="View Details"><i class="fas fa-eye"></i></button>
                            <button class="action-btn" title="Edit"><i class="fas fa-pencil-alt"></i></button>
                            <button class="action-btn delete" title="Delete"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                `;
                // Insert before the create button
                createGameBtn.insertAdjacentHTML('beforebegin', cardHTML);
            });
            // Re-attach listeners to the newly created card buttons
            addCardButtonListeners();
        };

        const setActiveTab = (activeTab) => {
            hostedTab.classList.toggle('active', activeTab === hostedTab);
            nonHostedTab.classList.toggle('active', activeTab === nonHostedTab);
        };
        
        // --- EVENT HANDLERS ---
        createGameBtn.addEventListener('click', () => {
            document.getElementById('gameModalTitle').innerText = 'Create New Game';
            document.querySelector('#gameModal form').reset();
            openModal(document.getElementById('gameModal'));
        });

        hostedTab.addEventListener('click', () => {
            setActiveTab(hostedTab);
            renderCards(allGames.hosted);
        });

        nonHostedTab.addEventListener('click', () => {
            setActiveTab(nonHostedTab);
            renderCards(allGames.nonHosted);
        });
        
        // Initial render
        renderCards(allGames.hosted);
        
        // --- MODAL CONTROLS ---
        const openModal = (modal) => {
            const content = modal.querySelector('.transform');
            modal.classList.remove('hidden');
            setTimeout(() => {
                if (content) {
                    content.classList.remove('scale-95', 'opacity-0');
                    content.classList.add('scale-100', 'opacity-100');
                }
            }, 10);
        };

        const closeModal = (modal) => {
            const content = modal.querySelector('.transform');
            if (content) {
                content.classList.add('scale-95', 'opacity-0');
                content.classList.remove('scale-100', 'opacity-100');
            }
            setTimeout(() => { modal.classList.add('hidden'); }, 200);
        };
        
        document.querySelectorAll('.modal-close-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                closeModal(e.target.closest('.fixed'));
            });
        });

        window.addEventListener('click', (e) => {
            if (e.target.matches('.modal-backdrop')) {
                closeModal(e.target);
            }
        });
        
        document.getElementById('deleteConfirmInput').addEventListener('input', (e) => {
            const confirmBtn = document.getElementById('confirmDeleteBtn');
            const requiredText = document.getElementById('gameNameConfirmText').textContent;
            confirmBtn.disabled = e.target.value !== requiredText;
        });
    });
    </script>
</body>
</html>

